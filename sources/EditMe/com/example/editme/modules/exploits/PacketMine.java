package com.example.editme.modules.exploits;

import com.example.editme.modules.Module;
import java.util.function.Predicate;
import me.zero.alpine.listener.EventHandler;
import me.zero.alpine.listener.Listener;
import net.minecraft.network.play.client.CPacketPlayerDigging;
import net.minecraft.network.play.client.CPacketPlayerDigging.Action;
import net.minecraft.util.EnumFacing;
import net.minecraft.util.math.BlockPos;
import net.minecraftforge.client.event.MouseEvent;

@Module.Info(
   name = "PacketMine",
   category = Module.Category.EXPLOITS
)
public class PacketMine extends Module {
   @EventHandler
   private Listener mouseEvent = new Listener(PacketMine::lambda$new$0, new Predicate[0]);

   private static void lambda$new$0(MouseEvent var0) {
      if (mc.field_71439_g != null) {
         if (var0.getButton() == 0 & mc.field_71476_x.field_72308_g == null) {
            BlockPos var1 = mc.field_71476_x.func_178782_a();
            mc.field_71439_g.field_71174_a.func_147297_a(new CPacketPlayerDigging(Action.START_DESTROY_BLOCK, var1, EnumFacing.UP));
            mc.field_71439_g.field_71174_a.func_147297_a(new CPacketPlayerDigging(Action.STOP_DESTROY_BLOCK, var1, EnumFacing.UP));
            var0.setCanceled(true);
         }

         if (var0.getButton() == 0 & mc.field_71476_x.field_72308_g != null) {
            mc.field_71442_b.func_78764_a(mc.field_71439_g, mc.field_71476_x.field_72308_g);
            var0.setCanceled(true);
         }

      }
   }
}
